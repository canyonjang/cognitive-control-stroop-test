<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Cognitive Control Stroop Test</title>
  <script src="https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.3.1/jspsych.js"></script>
  <script src="plugins/jspsych-survey-text.js"></script>
  <script src="plugins/jspsych-html-keyboard-response.js"></script>
  <script src="scenario.js"></script>
  <script src="stroop_numeric.js"></script>
  <script src="save_data.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="jspsych-target"></div>

  <script>
    window.onload = function() {
      console.log("ğŸš€ window.onload ì‹¤í–‰ë¨");

      // timelineì„ ì „ì—­ìœ¼ë¡œ ì •ì˜
      var timeline = [];

      // scenario_trialsê°€ ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì¶”ê°€
      if (typeof scenario_trials !== "undefined") {
        console.log("âœ… scenario_trials ìˆìŒ");
        timeline.push(...scenario_trials);
      } else {
        console.error("âŒ scenario_trials ì—†ìŒ");
      }

      // stroop_trialsê°€ ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì¶”ê°€
      if (typeof stroop_trials !== "undefined") {
        console.log("âœ… stroop_trials ìˆìŒ");
        timeline.push(...stroop_trials);
      } else {
        console.error("âŒ stroop_trials ì—†ìŒ");
      }

      // timelineì´ ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´ jsPsych ì‹¤í–‰
      if (timeline.length > 0) {
        jsPsych.init({
          display_element: 'jspsych-target',
          timeline: timeline,
          on_finish: function() {
            jsPsych.data.displayData();
          }
        });
      } else {
        console.error("âš ï¸ timelineì´ ë¹„ì–´ìˆì–´ ì‹¤í—˜ ì‹œì‘ ë¶ˆê°€");
      }
    };
  </script>
</body>

</html>
